{% load i18n %}
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Otros elementos del head -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
</head>
<body>
    <div class="mb-6 relative">
        <script type="text/javascript">
            var go_from_select = function(opt) {
                window.location = window.location.pathname + opt;
            };
            $(document).ready(function() {
                console.log('select2-enable');
                $('.select2-enable').select2({
                    minimumResultsForSearch: 3,
                });
            });
        </script>
        <h3 class="font-medium mb-2 text-gray-700 text-sm dark:text-gray-200">
            {% blocktrans with title as filter_title %} By {{ filter_title }} {% endblocktrans %}
        </h3>
        <label>
            <select class="select2-enable border bg-gray-800 text-white rounded-md shadow-sm text-sm focus:ring focus:ring-primary-500 focus:border-primary-500 w-full max-w-xs dark:bg-gray-800 dark:border-gray-600 dark:focus:border-primary-500"
                    onchange="go_from_select(this.options[this.selectedIndex].value)" style="width: 100%; appearance: none;">
                {% for choice in choices %}
                    <option value="{{ choice.query_string|iriencode }}" {% if choice.selected %} selected="selected" {% endif %}>
                        {{ choice.display }}
                    </option>
                {% endfor %}
            </select>
        </label>
    </div>
</body>
</html>
